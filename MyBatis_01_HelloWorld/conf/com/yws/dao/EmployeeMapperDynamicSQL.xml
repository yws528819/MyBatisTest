<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.yws.dao.EmployeeMapperDynamicSQL">
	<!--  -->
	<select id="getEmpsByConditionIf" resultType="com.yws.bean.Employee">
		select * from tbl_employee
		where
		<!--test：判断表达式(OGNL) 
			OGNL参照官方文档
				c:if test
			从参数中取值进行判断
			遇见特殊符号应该去写转义字符；
			见https://www.w3school.com.cn/tags/html_ref_entities.html 
				HTML ISO-8859-1
			"" &quot;&quot;
			&& &amp;&amp;	
		 -->
		<if test="id != null">
			id = #{id}
		</if>
		<if test="lastName != null &amp;&amp; lastName.trim() != &quot;&quot;">
			and last_name like #{lastName}
		</if>
		<if test="email != null and email.trim() != ''">
			and email = #{email}
		</if>
		<!-- ognl会进行字符串与数字的转换判断 "0"==0 -->
		<if test="gender == 0 or gender == 1">
			and gender = #{gender}
		</if>
	</select>

</mapper>